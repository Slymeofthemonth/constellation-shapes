// Constellation line segment data in normalized 0-1 coordinate space
// Each line is [x1, y1, x2, y2]

export interface ConstellationData {
  name: string;
  aliases: string[];
  lines: number[][];
}

export const constellations: Record<string, ConstellationData> = {
  orion: {
    name: "Orion",
    aliases: ["ori", "hunter"],
    lines: [[0.5,0.15,0.35,0.3],[0.5,0.15,0.65,0.3],[0.35,0.3,0.4,0.5],[0.65,0.3,0.6,0.5],[0.4,0.5,0.45,0.55],[0.45,0.55,0.5,0.55],[0.5,0.55,0.55,0.55],[0.55,0.55,0.6,0.5],[0.4,0.5,0.3,0.75],[0.6,0.5,0.7,0.75],[0.45,0.55,0.5,0.65],[0.5,0.55,0.5,0.65],[0.55,0.55,0.5,0.65]]
  },
  ursa_major: {
    name: "Ursa Major",
    aliases: ["uma", "big bear", "big dipper", "great bear", "plough"],
    lines: [[0.15,0.3,0.25,0.35],[0.25,0.35,0.35,0.4],[0.35,0.4,0.45,0.35],[0.45,0.35,0.55,0.4],[0.55,0.4,0.65,0.45],[0.65,0.45,0.75,0.4],[0.45,0.35,0.45,0.5]]
  },
  ursa_minor: {
    name: "Ursa Minor",
    aliases: ["umi", "little bear", "little dipper", "polaris"],
    lines: [[0.5,0.1,0.45,0.25],[0.45,0.25,0.4,0.35],[0.4,0.35,0.45,0.45],[0.45,0.45,0.55,0.5],[0.55,0.5,0.6,0.45],[0.6,0.45,0.55,0.35],[0.55,0.35,0.45,0.45]]
  },
  cassiopeia: {
    name: "Cassiopeia",
    aliases: ["cas", "the w", "seated queen"],
    lines: [[0.2,0.4,0.35,0.3],[0.35,0.3,0.5,0.45],[0.5,0.45,0.65,0.3],[0.65,0.3,0.8,0.4]]
  },
  leo: {
    name: "Leo",
    aliases: ["lion"],
    lines: [[0.3,0.25,0.25,0.4],[0.25,0.4,0.3,0.55],[0.3,0.55,0.4,0.6],[0.4,0.6,0.55,0.55],[0.55,0.55,0.65,0.5],[0.65,0.5,0.75,0.55],[0.55,0.55,0.5,0.4],[0.5,0.4,0.4,0.35],[0.4,0.35,0.3,0.25]]
  },
  scorpius: {
    name: "Scorpius",
    aliases: ["sco", "scorpion", "scorpio"],
    lines: [[0.25,0.2,0.3,0.3],[0.3,0.3,0.35,0.4],[0.35,0.4,0.4,0.5],[0.4,0.5,0.5,0.55],[0.5,0.55,0.6,0.6],[0.6,0.6,0.7,0.55],[0.7,0.55,0.75,0.45],[0.75,0.45,0.8,0.5],[0.75,0.45,0.85,0.4]]
  },
  cygnus: {
    name: "Cygnus",
    aliases: ["cyg", "swan", "northern cross"],
    lines: [[0.5,0.15,0.5,0.4],[0.5,0.4,0.5,0.65],[0.5,0.65,0.5,0.85],[0.3,0.5,0.5,0.4],[0.5,0.4,0.7,0.5]]
  },
  gemini: {
    name: "Gemini",
    aliases: ["gem", "twins"],
    lines: [[0.35,0.15,0.35,0.35],[0.35,0.35,0.3,0.5],[0.3,0.5,0.35,0.7],[0.65,0.15,0.65,0.35],[0.65,0.35,0.6,0.5],[0.6,0.5,0.65,0.7],[0.35,0.35,0.65,0.35]]
  },
  taurus: {
    name: "Taurus",
    aliases: ["tau", "bull"],
    lines: [[0.3,0.35,0.45,0.4],[0.45,0.4,0.55,0.35],[0.55,0.35,0.7,0.25],[0.55,0.35,0.65,0.5],[0.45,0.4,0.4,0.55],[0.45,0.4,0.5,0.55]]
  },
  sagittarius: {
    name: "Sagittarius",
    aliases: ["sgr", "archer", "teapot"],
    lines: [[0.35,0.45,0.45,0.35],[0.45,0.35,0.55,0.35],[0.55,0.35,0.65,0.45],[0.65,0.45,0.55,0.55],[0.55,0.55,0.45,0.55],[0.45,0.55,0.35,0.45],[0.45,0.35,0.45,0.25],[0.55,0.35,0.6,0.2]]
  },
  aquarius: {
    name: "Aquarius",
    aliases: ["aqr", "water bearer"],
    lines: [[0.35,0.25,0.45,0.3],[0.45,0.3,0.5,0.4],[0.5,0.4,0.55,0.5],[0.55,0.5,0.5,0.6],[0.5,0.6,0.45,0.7],[0.5,0.4,0.6,0.35],[0.6,0.35,0.7,0.4]]
  },
  virgo: {
    name: "Virgo",
    aliases: ["vir", "maiden", "virgin"],
    lines: [[0.5,0.2,0.45,0.35],[0.45,0.35,0.4,0.5],[0.4,0.5,0.3,0.6],[0.45,0.35,0.55,0.4],[0.55,0.4,0.65,0.55],[0.55,0.4,0.7,0.35]]
  },
  aries: {
    name: "Aries",
    aliases: ["ari", "ram"],
    lines: [[0.3,0.45,0.45,0.4],[0.45,0.4,0.6,0.45],[0.6,0.45,0.7,0.5]]
  },
  pisces: {
    name: "Pisces",
    aliases: ["psc", "fishes", "fish"],
    lines: [[0.25,0.3,0.35,0.4],[0.35,0.4,0.45,0.45],[0.45,0.45,0.55,0.4],[0.55,0.4,0.65,0.3],[0.45,0.45,0.45,0.6],[0.45,0.6,0.55,0.7],[0.55,0.7,0.7,0.65]]
  },
  capricornus: {
    name: "Capricornus",
    aliases: ["cap", "capricorn", "sea goat"],
    lines: [[0.25,0.4,0.4,0.35],[0.4,0.35,0.55,0.4],[0.55,0.4,0.7,0.5],[0.7,0.5,0.65,0.6],[0.65,0.6,0.5,0.55],[0.5,0.55,0.35,0.5],[0.35,0.5,0.25,0.4]]
  },
  libra: {
    name: "Libra",
    aliases: ["lib", "scales", "balance"],
    lines: [[0.5,0.3,0.35,0.5],[0.5,0.3,0.65,0.5],[0.35,0.5,0.5,0.6],[0.65,0.5,0.5,0.6]]
  },
  cancer: {
    name: "Cancer",
    aliases: ["cnc", "crab"],
    lines: [[0.35,0.35,0.5,0.45],[0.5,0.45,0.65,0.35],[0.5,0.45,0.45,0.6],[0.5,0.45,0.55,0.6]]
  },
  draco: {
    name: "Draco",
    aliases: ["dra", "dragon"],
    lines: [[0.2,0.25,0.3,0.35],[0.3,0.35,0.35,0.5],[0.35,0.5,0.45,0.55],[0.45,0.55,0.55,0.5],[0.55,0.5,0.6,0.4],[0.6,0.4,0.7,0.35],[0.7,0.35,0.75,0.45],[0.75,0.45,0.7,0.55]]
  },
  perseus: {
    name: "Perseus",
    aliases: ["per", "hero"],
    lines: [[0.5,0.15,0.45,0.3],[0.45,0.3,0.4,0.45],[0.4,0.45,0.35,0.6],[0.4,0.45,0.5,0.5],[0.5,0.5,0.6,0.55],[0.45,0.3,0.55,0.35]]
  },
  andromeda: {
    name: "Andromeda",
    aliases: ["and", "chained maiden", "princess"],
    lines: [[0.2,0.45,0.35,0.4],[0.35,0.4,0.5,0.45],[0.5,0.45,0.65,0.4],[0.35,0.4,0.3,0.55],[0.5,0.45,0.55,0.6]]
  },
  pegasus: {
    name: "Pegasus",
    aliases: ["peg", "winged horse", "great square"],
    lines: [[0.3,0.3,0.3,0.6],[0.3,0.6,0.6,0.6],[0.6,0.6,0.6,0.3],[0.6,0.3,0.3,0.3],[0.6,0.3,0.75,0.25],[0.6,0.6,0.75,0.7]]
  },
  lyra: {
    name: "Lyra",
    aliases: ["lyr", "lyre", "harp", "vega"],
    lines: [[0.5,0.2,0.4,0.4],[0.4,0.4,0.45,0.6],[0.45,0.6,0.55,0.6],[0.55,0.6,0.6,0.4],[0.6,0.4,0.5,0.2]]
  },
  aquila: {
    name: "Aquila",
    aliases: ["aql", "eagle", "altair"],
    lines: [[0.5,0.3,0.35,0.5],[0.5,0.3,0.65,0.5],[0.5,0.3,0.5,0.6],[0.35,0.5,0.25,0.55],[0.65,0.5,0.75,0.55]]
  },
  crux: {
    name: "Crux",
    aliases: ["cru", "southern cross", "cross"],
    lines: [[0.5,0.2,0.5,0.8],[0.3,0.45,0.7,0.55]]
  },
  centaurus: {
    name: "Centaurus",
    aliases: ["cen", "centaur"],
    lines: [[0.2,0.35,0.35,0.4],[0.35,0.4,0.45,0.35],[0.45,0.35,0.55,0.45],[0.55,0.45,0.7,0.4],[0.55,0.45,0.6,0.6],[0.45,0.35,0.4,0.55],[0.4,0.55,0.5,0.7]]
  },
  canis_major: {
    name: "Canis Major",
    aliases: ["cma", "big dog", "greater dog", "sirius"],
    lines: [[0.5,0.2,0.45,0.35],[0.45,0.35,0.4,0.5],[0.4,0.5,0.3,0.6],[0.45,0.35,0.55,0.4],[0.55,0.4,0.65,0.55],[0.55,0.4,0.6,0.3]]
  },
  canis_minor: {
    name: "Canis Minor",
    aliases: ["cmi", "little dog", "lesser dog", "procyon"],
    lines: [[0.4,0.45,0.6,0.55]]
  },
  corona_borealis: {
    name: "Corona Borealis",
    aliases: ["crb", "northern crown", "crown"],
    lines: [[0.25,0.5,0.35,0.4],[0.35,0.4,0.5,0.35],[0.5,0.35,0.65,0.4],[0.65,0.4,0.75,0.5]]
  },
  bootes: {
    name: "Bo√∂tes",
    aliases: ["boo", "herdsman", "arcturus"],
    lines: [[0.5,0.15,0.45,0.3],[0.45,0.3,0.35,0.45],[0.35,0.45,0.4,0.6],[0.5,0.15,0.55,0.3],[0.55,0.3,0.65,0.45],[0.65,0.45,0.6,0.6],[0.4,0.6,0.5,0.75],[0.6,0.6,0.5,0.75]]
  },
  hercules: {
    name: "Hercules",
    aliases: ["her", "kneeler"],
    lines: [[0.4,0.25,0.45,0.4],[0.45,0.4,0.4,0.55],[0.4,0.55,0.35,0.7],[0.6,0.25,0.55,0.4],[0.55,0.4,0.6,0.55],[0.6,0.55,0.65,0.7],[0.45,0.4,0.55,0.4]]
  }
};

export function findConstellation(query: string): ConstellationData | null {
  const q = query.toLowerCase().trim();
  if (!q) return null;
  
  for (const [key, val] of Object.entries(constellations)) {
    if (key === q || val.name.toLowerCase() === q || val.aliases.includes(q)) {
      return val;
    }
  }
  return null;
}
